CREATE DATABASE QLSV
GO

USE QLSV
GO

-- SINHVIEN
CREATE TABLE SINHVIEN (
	MSSV CHAR(8) NOT NULL,
	TENSV NVARCHAR(30),
	SODT VARCHAR(10),
	DIACHI NVARCHAR(50),
	KHOA CHAR(4),
)
-- KHOA
CREATE TABLE KHOA (
	MSK CHAR(4) NOT NULL,
	TENK NVARCHAR(50),
)
-- GIAOVIEN
CREATE TABLE GIAOVIEN (
	MSGV CHAR(4) NOT NULL,
	TENGV NVARCHAR(30),
	SODT VARCHAR(10),
	DIACHI NVARCHAR(30),
	KHOA CHAR(4)
)
-- MONHOC
CREATE TABLE MONHOC (
	MSMH CHAR(5) NOT NULL,
	TENMH NVARCHAR(50),
	SOTC INT,
	KHOA CHAR(4)
)
-- SV_MH
CREATE TABLE SV_MH (
	MSSV CHAR(8),
	MSMH CHAR(5),
	TGBD SMALLDATETIME,
	TGKT SMALLDATETIME,
	TGTHI SMALLDATETIME,
	DTB FLOAT,
)
-- GV_MH
CREATE TABLE GV_MH (
	MSGV CHAR(4),
	MSMH CHAR(5),
	SISO INT,
)

-- KHOA CHINH
ALTER TABLE SINHVIEN ADD PRIMARY KEY(MSSV);
ALTER TABLE KHOA ADD PRIMARY KEY(MSK);
ALTER TABLE GIAOVIEN ADD PRIMARY KEY(MSGV);
ALTER TABLE MONHOC ADD PRIMARY KEY(MSMH);
-- KHOA NGOAI
ALTER TABLE SINHVIEN ADD CONSTRAINT FK_SVMSK FOREIGN KEY (KHOA) REFERENCES KHOA(MSK);

ALTER TABLE GIAOVIEN ADD CONSTRAINT FK_GVMSK FOREIGN KEY (KHOA) REFERENCES KHOA(MSK);

ALTER TABLE MONHOC ADD CONSTRAINT FK_MHMSK FOREIGN KEY (KHOA) REFERENCES KHOA(MSK);

ALTER TABLE SV_MH ADD CONSTRAINT FK_SVMH01 FOREIGN KEY (MSSV) REFERENCES SINHVIEN(MSSV);
ALTER TABLE SV_MH ADD CONSTRAINT FK_SVMH02 FOREIGN KEY (MSMH) REFERENCES MONHOC(MSMH);

ALTER TABLE GV_MH ADD CONSTRAINT FK_GVMH01 FOREIGN KEY (MSGV) REFERENCES GIAOVIEN(MSGV);
ALTER TABLE GV_MH ADD CONSTRAINT FK_GVMH02 FOREIGN KEY (MSMH) REFERENCES MONHOC(MSMH);

-- DU LIEU
-- KHOA
INSERT INTO KHOA VALUES ('KH01',N'Khoa Khoa học máy tính');
INSERT INTO KHOA VALUES ('KH02',N'Khoa Công nghệ phần mềm');
INSERT INTO KHOA VALUES ('KH03',N'Khoa Kỹ thuật máy tính');
INSERT INTO KHOA VALUES ('KH04',N'Khoa Hệ thống thông tin');
INSERT INTO KHOA VALUES ('KH05',N'Khoa Mạng máy tính và truyền thông');
INSERT INTO KHOA VALUES ('KH06',N'Khoa Khoa học và Kỹ thuật Thông tin');
INSERT INTO KHOA VALUES ('KH07',N'Bộ môn Toán - Lý');
INSERT INTO KHOA VALUES ('KH08',N'Văn phòng các chương trình đặc biệt');

-- GIANGVIEN
INSERT INTO GIAOVIEN VALUES ('GV01',N'Trần Trung','0361498975',N'Bến Tre','KH03');
INSERT INTO GIAOVIEN VALUES ('GV02',N'Nguyễn Văn An','0976581215',N'Tiền Giang','KH05');
INSERT INTO GIAOVIEN VALUES ('GV03',N'Trần Thu Trang','0368794167',N'Cần Thơ','KH04');
INSERT INTO GIAOVIEN VALUES ('GV04',N'Nguyễn Thị Loan','0956574113',N'Bến Tre','KH02');
INSERT INTO GIAOVIEN VALUES ('GV05',N'Chu Tiến','0978944989',N'Hà Nội','KH03');
INSERT INTO GIAOVIEN VALUES ('GV06',N'Nguyễn Thị Anh Thư','0946576823',N'TP. HCM','KH06');
INSERT INTO GIAOVIEN VALUES ('GV07',N'Nguyễn Gia Tuấn Anh','0367945123',N'Đà Nẵng','KH06');
INSERT INTO GIAOVIEN VALUES ('GV08',N'Phạm Nhật Duy','0984165187',N'TP. HCM','KH06');
INSERT INTO GIAOVIEN VALUES ('GV09',N'Thái Huy Tân','0987894518',N'TP. HCM','KH05');
INSERT INTO GIAOVIEN VALUES ('GV10',N'Cao Thị Nhạn','0933564757',N'Lâm Đồng','KH04');

-- SINHVIEN
INSERT INTO SINHVIEN VALUES ('21520001',N'Trần Văn An','0976105172',N'THỦ ĐỨC','KH06');
INSERT INTO SINHVIEN VALUES ('21520002',N'Nguyễn Thị Thu','0954791358',N'QUẬN 1','KH05');
INSERT INTO SINHVIEN VALUES ('21520003',N'Lê Văn Hiếu','0948981579',N'QUẬN 9','KH04');
INSERT INTO SINHVIEN VALUES ('21520004',N'Ngô Thái Huy','0949881349',N'QUẬN 2','KH02');
INSERT INTO SINHVIEN VALUES ('21520005',N'Vũ Thị Minh Anh','0978491387',N'THỦ ĐỨC','KH03');

-- MONHOC
INSERT INTO MONHOC VALUES ('IT007',N'Hệ Điều Hành',4,'KH03');
INSERT INTO MONHOC VALUES ('IE101',N'Cơ sở hạ tầng công nghệ thông tin',3,'KH06');
INSERT INTO MONHOC VALUES ('IE103',N'Quản lý thông tin',4,'KH06');
INSERT INTO MONHOC VALUES ('IT004',N'Cơ sở dữ liệu',4,'KH04');
INSERT INTO MONHOC VALUES ('IT005',N'Nhập môn mạng máy tính',4,'KH05');
INSERT INTO MONHOC VALUES ('IT002',N'Lập trình hướng đối tượng',4,'KH02');
